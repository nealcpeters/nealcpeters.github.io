
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Designing a Hash Map - Neal Peters</title>
  <meta name="author" content="Neal Peters">

  
  <meta name="description" content="Dev Bootcamp gave me a phenomenal start on learning programming and web development as a craft, but I have some significant gaps when it comes to my &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://nealcpeters.github.io/blog/2014/05/03/designing-a-hash-map">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Neal Peters" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="//fonts.googleapis.com/css?family=Open+Sans:400,700&subset=latin" rel="stylesheet" type="text/css" />
<link href='http://fonts.googleapis.com/css?family=Noto+Serif:400,700' rel='stylesheet' type='text/css'>
<!-- <link href="/favicon.png" rel="icon"> -->


  

</head>

<body    class="collapse-sidebar sidebar-footer" >
  <nav id="main-nav" role="navigation">
<ul class="main-navigation">
  <li><a href="/" class="nav-link">Blog</a></li>
  <li><a href="/blog/archives" class="nav-link">Archives</a></li>
  <!-- <li><a href="/atom.xml" class="nav-link">RSS</a></li> -->
  <li><a href="https://github.com/nealcpeters" class="nav-link">Github</a></li>
  <li><a href="https://twitter.com/nealcpeters" class="nav-link">Twitter</a></li>
  <li><a href="https://www.linkedin.com/in/nealcpeters" class="nav-link">LinkedIn</a></li>
</ul>

</nav>
  
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">Designing a Hash Map</h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-05-03T13:09:53-05:00" pubdate data-updated="true">May 3<span>rd</span>, 2014</time>
        
      </p>
    
  </header>


<div class="entry-content"><p>Dev Bootcamp gave me a phenomenal start on learning programming and web development as a craft, but I have some significant gaps when it comes to my knowledge of data structures, algorithms, computational complexity, and other computer science theory related topics. For interview preparation, I’ve spent some time going over these topics and trying to create a data structure from scratch using object oriented design.</p>

<p>A hash map, or simply a hash in Ruby, is an associate array. Associative in this context means that the data structure maps keys to values. A hash map uses a hash function to compute an index to a bucket, from which the corresponding value can be found.</p>

<p>This is actually really easy in Ruby. One can create a new hash by something as simple as the following:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
</pre></td><td class="code"><pre><code class="ruby"><span class="line"><span class="n">associative_array</span> <span class="o">=</span> <span class="p">{}</span>
</span><span class="line">
</span><span class="line"><span class="c1">#alternatively</span>
</span><span class="line">
</span><span class="line"><span class="n">associative_array</span> <span class="o">=</span> <span class="no">Hash</span><span class="o">.</span><span class="n">new</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>If you want to add keys and values, the syntax is as follows:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
</pre></td><td class="code"><pre><code class="ruby"><span class="line"><span class="n">associative_array</span><span class="o">[</span><span class="ss">:atlas</span><span class="o">]</span> <span class="o">=</span> <span class="s2">&quot;cat&quot;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>In the last example, the symbol <code>:atlas</code> is the key, and the string <code>"cat"</code> is the value. </p>

<p>Now, that was Ruby 101. A more interesting question is how to actually design and build the data structure from scratch. Ruby is amazing in the sense that an associative array is so easy to create and manipulate, but what if the class wasn’t at immediate disposal? Here’s my rough solution:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
<span class="line-number">16</span>
<span class="line-number">17</span>
<span class="line-number">18</span>
<span class="line-number">19</span>
<span class="line-number">20</span>
<span class="line-number">21</span>
<span class="line-number">22</span>
<span class="line-number">23</span>
<span class="line-number">24</span>
<span class="line-number">25</span>
<span class="line-number">26</span>
<span class="line-number">27</span>
<span class="line-number">28</span>
<span class="line-number">29</span>
<span class="line-number">30</span>
<span class="line-number">31</span>
<span class="line-number">32</span>
<span class="line-number">33</span>
<span class="line-number">34</span>
<span class="line-number">35</span>
<span class="line-number">36</span>
<span class="line-number">37</span>
<span class="line-number">38</span>
<span class="line-number">39</span>
<span class="line-number">40</span>
<span class="line-number">41</span>
<span class="line-number">42</span>
<span class="line-number">43</span>
<span class="line-number">44</span>
<span class="line-number">45</span>
</pre></td><td class="code"><pre><code class="ruby"><span class="line"><span class="k">class</span> <span class="nc">HashMap</span>
</span><span class="line">  <span class="kp">attr_reader</span> <span class="ss">:container</span>
</span><span class="line">
</span><span class="line">  <span class="k">def</span> <span class="nf">initialize</span>
</span><span class="line">    <span class="vi">@container</span> <span class="o">=</span> <span class="o">[]</span>
</span><span class="line">  <span class="k">end</span>
</span><span class="line">
</span><span class="line">  <span class="k">def</span> <span class="nf">set_default</span><span class="p">(</span><span class="n">value</span> <span class="o">=</span> <span class="kp">nil</span><span class="p">)</span>
</span><span class="line">    <span class="vi">@default</span> <span class="o">=</span> <span class="n">value</span>
</span><span class="line">  <span class="k">end</span>
</span><span class="line">
</span><span class="line">  <span class="k">def</span> <span class="nf">add</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="o">=</span> <span class="kp">nil</span><span class="p">)</span>
</span><span class="line">    <span class="k">if</span> <span class="n">value</span> <span class="o">!=</span> <span class="kp">nil</span>
</span><span class="line">      <span class="vi">@container</span> <span class="o">&lt;&lt;</span> <span class="o">[</span><span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="o">]</span>
</span><span class="line">    <span class="k">else</span>
</span><span class="line">      <span class="vi">@container</span> <span class="o">&lt;&lt;</span> <span class="o">[</span><span class="n">key</span><span class="p">,</span> <span class="vi">@default</span><span class="o">]</span>
</span><span class="line">    <span class="k">end</span>
</span><span class="line">  <span class="k">end</span>
</span><span class="line">
</span><span class="line">  <span class="k">def</span> <span class="nf">delete</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
</span><span class="line">    <span class="vi">@container</span><span class="o">.</span><span class="n">each</span> <span class="k">do</span> <span class="o">|</span><span class="n">bucket</span><span class="o">|</span>
</span><span class="line">      <span class="n">bucket</span><span class="o">.</span><span class="n">clear</span> <span class="k">if</span> <span class="n">bucket</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span> <span class="o">==</span> <span class="n">key</span>
</span><span class="line">    <span class="k">end</span>
</span><span class="line">  <span class="k">end</span>
</span><span class="line">
</span><span class="line">  <span class="k">def</span> <span class="nf">access</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
</span><span class="line">    <span class="vi">@container</span><span class="o">.</span><span class="n">each</span> <span class="k">do</span> <span class="o">|</span><span class="n">bucket</span><span class="o">|</span>
</span><span class="line">      <span class="n">bucket</span><span class="o">.</span><span class="n">each_with_index</span> <span class="k">do</span> <span class="o">|</span><span class="n">subject</span><span class="p">,</span> <span class="n">index</span><span class="o">|</span>
</span><span class="line">        <span class="nb">puts</span> <span class="n">bucket</span><span class="o">[</span><span class="mi">1</span><span class="o">]</span> <span class="k">if</span> <span class="n">index</span> <span class="o">==</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">key</span> <span class="o">==</span> <span class="n">subject</span>
</span><span class="line">      <span class="k">end</span>
</span><span class="line">    <span class="k">end</span>
</span><span class="line">  <span class="k">end</span>
</span><span class="line">
</span><span class="line">  <span class="k">def</span> <span class="nf">keys</span>
</span><span class="line">    <span class="vi">@container</span><span class="o">.</span><span class="n">each</span> <span class="k">do</span> <span class="o">|</span><span class="n">bucket</span><span class="o">|</span>
</span><span class="line">      <span class="nb">puts</span> <span class="n">bucket</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span>
</span><span class="line">    <span class="k">end</span>
</span><span class="line">  <span class="k">end</span>
</span><span class="line">
</span><span class="line">  <span class="k">def</span> <span class="nf">values</span>
</span><span class="line">    <span class="vi">@container</span><span class="o">.</span><span class="n">each</span> <span class="k">do</span> <span class="o">|</span><span class="n">bucket</span><span class="o">|</span>
</span><span class="line">      <span class="nb">puts</span> <span class="n">bucket</span><span class="o">[</span><span class="mi">1</span><span class="o">]</span>
</span><span class="line">    <span class="k">end</span>
</span><span class="line">  <span class="k">end</span>
</span><span class="line"><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>I know it has issues; it might even be completely wrong. The best idea I had was to model each key value pair as an array comprised of two elements, and for the hash to be a simple multi-dimensional array. However, I think I have all of the basic functionality. You can create a new hash, set default values, add key value pairs, access key value pairs, and view just the keys or values for the entire hash map.</p>

<p>As for computational complexity, I don’t know how my model matches up compared to a better design. That said, time complexity on average for a hash map on search, insertion, or deletion is O(1), while at worst is O(n). At worst, its space complexity is O(n). </p>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">Neal Peters</span></span>

      








  


<time datetime="2014-05-03T13:09:53-05:00" pubdate data-updated="true">May 3<span>rd</span>, 2014</time>
      


    </p>
    
      <div class="sharing">
  
  <a href="//twitter.com/share" class="twitter-share-button" data-url="http://nealcpeters.github.io/blog/2014/05/03/designing-a-hash-map/" data-via="" data-counturl="http://nealcpeters.github.io/blog/2014/05/03/designing-a-hash-map/" >Tweet</a>
  
  
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/blog/2014/04/15/dev-bootcamp-and-beyond/" title="Previous Post: Dev Bootcamp and Beyond">&laquo; Dev Bootcamp and Beyond</a>
      
      
    </p>
  </footer>
</article>

</div>

<aside class="sidebar">
  
    
  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2014 - Neal Peters -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
